<!DOCTYPE html>
<html lang="en">

<head>
    <title>Colorado Presidential Voting History | The Denver Post</title>
    <meta charset="utf-8">
    <meta name="robots" content="noindex,follow">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed:700|Roboto+Mono" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.foundation.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.css" />
    <link rel="stylesheet" href="//cdn.datatables.net/responsive/2.2.1/css/responsive.dataTables.min.css" />
    <link rel="stylesheet" href="//cdn.datatables.net/responsive/2.2.1/css/responsive.foundation.min.css" />
    <!-- <link rel="stylesheet" href="jquery.dataTables.yadcf.css" /> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/dataTables.foundation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.js"></script>
    <script src="//cdn.datatables.net/plug-ins/1.10.16/dataRender/datetime.js"></script>
    <script src="//cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>
    <script src="//cdn.datatables.net/responsive/2.2.1/js/responsive.foundation.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/yadcf/0.9.2/jquery.dataTables.yadcf.js"></script>
    <script src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/natural.js"></script>
    <style>
    body {
        background-color: #fafafa;
        font-family: 'Roboto', sans-serif;
    }

    /*.table-container {
        width: 1300px;
        margin: 0 auto;
    }*/

    .table-title {
        font-size: 2.6rem;
        line-height: 115%;
        font-weight: 700;
        text-align: center;
        margin-bottom: 30px;
    }

    table,
    thead,
    tbody,
    tfoot {
        font-family: 'Roboto', sans-serif;
    }

    table tr:nth-of-type(even) {
        background-color: transparent !important;
    }

    th,
    td {
        white-space: nowrap;
    }

    th {
        font-size: .9em;
    }

    tr {
        line-height: 9px;
    }

    td {
        /*border: 1px solid #c8c8c8;*/
        border: 1px solid rgba(0, 0, 0, .1);
        /*padding-top: 12px !important;*/
        line-height: 102%;
    }

    #prez-vote-table {
        width: 1350px !important;
    }

    .cell-contents {
        color: rgba(0, 0, 0, .5);
        font-size: 1em;
    }

    label {
        margin-bottom: 10px !important;
    }

    .vote-total-container {
        margin-top: 3px;
        margin-bottom: -2px;
        font-size: .8em;
        line-height: 105%;
    }

    .instructions-text {
        color: red;
        font-size: .8em;
        font-style: italic;
        text-align: center;
    }

    #filters {
        font-size: .85rem;
    }

    #prez-vote-table-container {
        margin-top: 10px;
        padding: 3px;
    }

    #prez-vote-table {
        font-size: .85rem;
        font-family: 'Roboto', sans-serif;
        width: 100%;
        margin: 0 auto;
    }

    .super-script {
        font-size: .8em;
        vertical-align: super;
        color: #aaa;
    }

    button.yadcf-filter-reset-button {
        color: red;
        margin-left: 10px;
    }

    select {
        margin-top: 7px;
        margin-bottom: 0;
        font-size: .85rem;
    }

    .dem {
        background-color: lightblue;
        /*width: 15px;
        height: 15px;
        margin-left: .5em;*/
    }

    .rep {
        background-color: red;
        /*width: 15px;
        height: 15px;
        margin-left: .5em;*/
    }

    .yadcf-filter-range {
        height: 2.9em;
        border: 1px solid #c8c8c8;
    }

    .filter-text {
        font-weight: bold;
        margin-top: .5em;
        margin-bottom: .5em;
    }

    .Urban,
    .Rural {
        height: 4px;
        width: 4px;
        border-radius: 50%;
        margin-left: 5px;
        display: inline-block;
    }

    .Urban {
        border: 3px solid green;
    }

    .Rural {
        border: 3px solid gray;
    }

    .legend-text {
        text-transform: uppercase;
        font-size: .9rem;
        font-weight: bold;
        color: #737373;
        text-align: center;
        margin-bottom: 3px;
    }

    h2 {
        font-size: 2em;
        font-weight: 700;
        letter-spacing: -2px;
        line-height: 100%
    }

    h4 {
        font-weight: 700;
        font-size: 1.1em;
        /*letter-spacing: .5px;*/
        text-transform: uppercase;
        color: #8e1024;
        margin-bottom: 0;
    }

    .byline {
        font-size: .85em;
        text-align: right;
        font-style: italic;
    }

    .source {
        font-size: .9em;
        font-style: italic;
    }

    .legend {
        width: 60px;
        height: 30px;
        opacity: .6;
        float: left;
    }

    .legend-text {
        font-size: .8rem;
        font-weight: bold;
        text-align: center;
        margin-top: 7px;
        letter-spacing: 1px;
    }

    .header-prez-result {
        font-size: .7rem;
        font-weight: 200;
        color: #0a0a0a;
        display: inline-block;
        margin-top: 5px;
    }

    .header-dem {
        color: rgba(53, 121, 168, .8);
    }

    .header-rep {
        color: rgba(220, 81, 71, .8);
    }

    #table-instructions {
        width: 400px;
        height: 300px;
        border: 1px solid silver;
        padding: 0 0 0 10px;
        margin: 5px 0 15px 15px;
    }
    </style>
</head>

<body>
    <div class="row">
        <div class="large-12 medium-8 medium-centered columns">
            <h1 class="table-title">Colorado presidential voting 1980-2016</h1>
        </div>
        <div class="row">
            <div class="large-10 large-centered medium-12 columns">
                <div class="large-12 columns">
                <img align="right" id="table-instructions" src="prez_table_instructions_3.svg">
                    <p class="body-text">Colorado was once a Republican stronghold. In the 19 presidential elections between 1932 and 2004, Democrats carried the state only five times, or 26%. In the three presidential elections since 2004, Democrats have carried the state by an average of more than six points.</p>
                    <p>In the 1980 presidential election that saw Republican Ronald Reagan beat incumbent Democrat Jimmy Carter, of the 10 Colorado counties with the largest populations (by 2018 numbers), nine voted Republican &mdash; only Pueblo County went for Carter. That was the last presidential election in which Denver County went Republican, and Boulder County followed suit beginning in 1988. Both counties are now reliably Democratic.</p>
                    <p>El Paso, Douglas and Weld counties have remained solidly Republican since 1980, while suburban counties such as Arapahoe and Jefferson have moved into the Democratic column over the last three elections. Adams County has voted Democratic in the last eight presidential elections.</p>
                    <p>In 2016, six of the most populous counties went Democratic (Denver, Arapahoe, Jefferson, Adams, Larimer and Boulder), three went Republican (El Paso, Douglas and Weld), and Pueblo was effectively neutral, going slightly Republican after voting Democratic since 1980.</p>
                    <p>Five counties flipped from Democratic to Republican from the 2012 election (in order of population): Pueblo, Las Animas, Chaffee, Conejos and Huerfano. No counties flipped from Republican to Democratic.</p>
                    <p>The majority of Colorado's 47 rural counties (as designated by the <a href="https://www.census.gov/programs-surveys/geography/guidance/geo-areas/urban-rural.html" target="_blank">U.S. Census Bureau</a>) voted Republican in 2016 &mdash; 34-13 &mdash; while nine of 17 urban counties went Democratic.</p>
                    <p>Only one Colorado county has voted for the winner in every presidential election since 1980: Larimer County.</p>
                    <p><em>Source: <a href="https://data.census.gov/cedsci/table?q=&g=0500000US08005,08119,08037,08113,08035,08079,08111,08117,08039,08115,08083,08081,08121,08087,08043,08041,08085,08009,08125,08047,08003,08123,08089,08045,08001,08007,08049,08095,08051,08093,08011,08099,08055,08053,08097,08091,08059,08015,08014,08057,08013,08019,08017,08061,08065,08021,08063,08109,08103,08025,08069,08101,08067,08023,08107,08029,08105,08027,08073,08071,08033,08077,08031,08075&lastDisplayedRow=0&table=B01003&tid=ACSDT5Y2017.B01003&hidePreview=true&vintage=2017&layer=county&cid=DP05_0001E&y=2017&d=ACS%205-Year%20Estimates%20Detailed%20Tables">2017 American Community Survey 5-year Estimates</a></em></p>
                </div>
            </div>
        </div>
    </div>
    <!-- MAPS -->
    <!-- <div style="width:45%;float:left">
        <iframe id="datawrapper-chart-yTV9r" src="//datawrapper.dwcdn.net/yTV9r/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important;" height="500"></iframe><script type="text/javascript">if("undefined"==typeof window.datawrapper)window.datawrapper={};window.datawrapper["yTV9r"]={},window.datawrapper["yTV9r"].embedDeltas={"100":787,"200":618,"300":559,"400":517,"500":500,"700":500,"800":500,"900":500,"1000":483},window.datawrapper["yTV9r"].iframe=document.getElementById("datawrapper-chart-yTV9r"),window.datawrapper["yTV9r"].iframe.style.height=window.datawrapper["yTV9r"].embedDeltas[Math.min(1e3,Math.max(100*Math.floor(window.datawrapper["yTV9r"].iframe.offsetWidth/100),100))]+"px",window.addEventListener("message",function(a){if("undefined"!=typeof a.data["datawrapper-height"])for(var b in a.data["datawrapper-height"])if("yTV9r"==b)window.datawrapper["yTV9r"].iframe.style.height=a.data["datawrapper-height"][b]+"px"});</script>
    </div>
    <div style="width:45%;float:right">
        <iframe id="datawrapper-chart-2Gaea" src="//datawrapper.dwcdn.net/2Gaea/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important;" height="500"></iframe><script type="text/javascript">if("undefined"==typeof window.datawrapper)window.datawrapper={};window.datawrapper["2Gaea"]={},window.datawrapper["2Gaea"].embedDeltas={"100":787,"200":618,"300":559,"400":517,"500":517,"700":500,"800":500,"900":500,"1000":500},window.datawrapper["2Gaea"].iframe=document.getElementById("datawrapper-chart-2Gaea"),window.datawrapper["2Gaea"].iframe.style.height=window.datawrapper["2Gaea"].embedDeltas[Math.min(1e3,Math.max(100*Math.floor(window.datawrapper["2Gaea"].iframe.offsetWidth/100),100))]+"px",window.addEventListener("message",function(a){if("undefined"!=typeof a.data["datawrapper-height"])for(var b in a.data["datawrapper-height"])if("2Gaea"==b)window.datawrapper["2Gaea"].iframe.style.height=a.data["datawrapper-height"][b]+"px"});</script>
    </div> -->
    <!-- <p class="instructions-text">Use dropdown menus to filter table; click column headers to sort</p> -->
    <!-- <div id="filters"> -->
    <!-- <div class="row">
=======
    <div id="prez-vote-table-container">
        <div class="row">
            <div class="large-12 columns">
                <h2 class="table-title">Colorado presidential voting 1980-2016</h2>
                <p class="body-text">The table shows vote margins for Colorado counties in presidential elections from 1980 to 2016. Each table cell shows the party that "won" the county, its margin in percentage points, the percentage votes the party took and the number of votes for the party. Counties are classified as rural or urban, and can be sorted by their population and median income (and rank).</p>
                <p class="instructions-text">Click column headers to sort</p>
            </div>
        </div>
        <div id="filters">
             <div class="row">
>>>>>>> 8fd308f942af850067a2844382dca67deadf2919
                <div class="large-6 medium-6 small-6 columns">
                    <span id="urban-filter" style="font-weight: bold;"></span>
                </div>
                <div class="large-6 medium-6 small-6 columns">
                    <span id="donor-name-filter" style="font-weight: bold;"></span>
                </div>
            </div>
            <div class="row">
                <div class="large-6 medium-6 small-6 columns">
                    <span id="city-filter" style="font-weight: bold;"></span>
                </div>
                <div class="large-6 medium-6 small-6 columns">
                    <span id="year-filter" style="font-weight: bold;"></span>
                </div>
            </div>
            <div class="row">
                <div class="large-6 small-12 left columns">
                    <p class="filter-text">Filter by winning votes</p>
                    <span id="amount-filter" style="font-weight: bold;"></span>
                </div>
            </div> -->
    <!--  </div> -->
    <div class="row">
        <div class="large-12 columns">
            <div id="prez-vote-table-container">
                <div class="row">
                    <div class="large-12 columns">
                        <div style="margin: 10px 0 10px 0;overflow:hidden;float:left;" id="legend">
                            <div class="legend" style="background-color:rgba(53,121,168,.8);">
                                <p class="legend-text" style="color:#000;">D+20</p>
                            </div>
                            <!-- <div class="legend" style="background-color:rgba(53,121,168,.5);">
                            <p class="legend-text" style="color:#000;"></p>
                        </div> -->
                            <div class="legend" style="background-color:rgba(53,121,168,.2);">
                                <p class="legend-text" style="color:#000;">D+</p>
                            </div>
                            <div class="legend" style="background-color:rgba(128,0,128,.3);">
                                <p class="legend-text" style="color:#000;">+/-3.5</p>
                            </div>
                            <div class="legend" style="background-color:rgba(220, 81, 71,.2);">
                                <p class="legend-text" style="color:#000;">R+</p>
                            </div>
                            <!-- <div class="legend" style="background-color:rgba(220, 81, 71,.5);">
                            <p class="legend-text" style="color:#000;"></p>
                        </div> -->
                            <div class="legend" style="background-color:rgba(220, 81, 71,.8);">
                                <p class="legend-text" style="color:#000;">R+20</p>
                            </div>
                        </div>
                    </div>
                </div>
                <table id="prez-vote-table" cellspacing="0" class="display nowrap">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Pop.<span class="super-script" style="font-weight:normal">(rank)</span></th>
                            <th>Income</th>
                            <th data-priority="1">County</th>
                            <th data-priority="2" title="Donald Trump (R) def Hillary Clinton (D)">2016<br><span class="header-prez-result"><span class="header-dem">DEM</span> 48-43 &#10008;</span></th>
                            <th data-priortiy="3" title="Barack Obama (D) def Mitt Romney (R)">2012<br><span class="header-prez-result"><span class="header-dem">DEM</span> 52-46 &#10004;</span></th>
                            <th data-priority="4" title="Barack Obama (D) def John McCain (R)">2008<br><span class="header-prez-result"><span class="header-dem">DEM</span> 54-45 &#10004;</span></th>
                            <th data-priority="5" title="George W. Bush (R) def John Kerrey (D)">2004<br><span class="header-prez-result"><span class="header-rep">REP</span> 52-47 &#10004;</span></th>
                            <th data-priority="6" title="George W. Bush (R) def Al Gore (D)">2000<br><span class="header-prez-result"><span class="header-rep">REP</span> 51-42 &#10004;</span></th>
                            <th data-priority="7" title="Bill Clinton (D) def Bob Dole (R)">1996<br><span class="header-prez-result"><span class="header-rep">REP</span> 46-44 &#10008;</span></th>
                            <th data-priority="8" title="Bill Clinton (D) def George H.W. Bush (R)">1992<br><span class="header-prez-result"><span class="header-dem">DEM</span> 40-36 &#10004;</span></th>
                            <th data-priority="9" title="George H.W. Bush (R) def Michael Dukakis (D)">1988<br><span class="header-prez-result"><span class="header-rep">REP</span> 53-45 &#10004;</span></th>
                            <th data-priority="10" title="Ronald Reagan (R) def Walter Mondale (D)">1984<br><span class="header-prez-result"><span class="header-rep">REP</span> 63-35 &#10004;</span></th>
                            <th data-priority="11" title="Ronald Reagan (R) def Jimmy Carter (D)">1980<br><span class="header-prez-result"><span class="header-rep">REP</span> 55-31 &#10004;</span></th>
                        </tr>
                    </thead>
                    <tfoot>
                    </tfoot>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script>
    var dataFile = 'colorado-prez-results.json'

    $(document).ready(function() {
        // function disableDependentFilter(level, inuse) {
        //     if (level < 4) {
        //         filter = $('#yadcf-filter--example-' + level);
        //         yadcf.exResetFilters(prezVoteTable, [level]);
        //         filter.prop('disabled', !inuse);

        //         disableDependentFilter(level + 1, false);
        //     }
        // }

        var prezVoteTable = $('#prez-vote-table').DataTable({
            ajax: {
                'url': dataFile,
                'dataSrc': ''
            },
            //pageLength: 64,
            // responsive: {
            //     details: {
            //         type: 'column'
            //     }
            // },
            scrollY: "500px",
            scrollCollapse: true,
            paging: false,
            scrollX: true,
            fixedHeader: true,
            dom: 'frti',
            rowCallback: function(row, data, index) {
                function colorCells(demPct, repPct, colNum) {
                    if (isNaN(demPct)) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', '#fafafa');
                    } else if ((demPct - repPct) > 20) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(53, 121, 168,.8)');
                    } else if ((demPct - repPct) > 10) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(53, 121, 168,.5)');
                    } else if ((demPct - repPct) > 3.5) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(53, 121, 168,.2)');
                    } else if ((repPct - demPct) > 20) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(220, 81, 71, .8)');
                    } else if ((repPct - demPct) > 10) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(220, 81, 71,.5)');
                    } else if ((repPct - demPct) > 3.5) {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(220, 81, 71,.2)');
                    } else {
                        $(row).find('td:eq(' + colNum + ')').css('background-color', 'rgba(128, 0, 128, .3)');
                    }
                };

                function results2016() {
                    var demPct = (data.demVotes2016 / data.totalVotes2016) * 100;
                    var repPct = (data.repVotes2016 / data.totalVotes2016) * 100;
                    colorCells(demPct, repPct, 4);
                };

                function results2012() {
                    var demPct = (data.demVotes2012 / data.totalVotes2012) * 100;
                    var repPct = (data.repVotes2012 / data.totalVotes2012) * 100;
                    colorCells(demPct, repPct, 5);
                };

                function results2008() {
                    var demPct = (data.demVotes2008 / data.totalVotes2008) * 100;
                    var repPct = (data.repVotes2008 / data.totalVotes2008) * 100;
                    colorCells(demPct, repPct, 6);
                };

                function results2004() {
                    var demPct = (data.demVotes2004 / data.totalVotes2004) * 100;
                    var repPct = (data.repVotes2004 / data.totalVotes2004) * 100;
                    colorCells(demPct, repPct, 7);
                };

                function results2000() {
                    var demPct = (data.demVotes2000 / data.totalVotes2000) * 100;
                    var repPct = (data.repVotes2000 / data.totalVotes2000) * 100;
                    colorCells(demPct, repPct, 8);
                };

                function results1996() {
                    var demPct = (data.demVotes1996 / data.totalVotes1996) * 100;
                    var repPct = (data.repVotes1996 / data.totalVotes1996) * 100;
                    colorCells(demPct, repPct, 9);
                };

                function results1992() {
                    var demPct = (data.demVotes1992 / data.totalVotes1992) * 100;
                    var repPct = (data.repVotes1992 / data.totalVotes1992) * 100;
                    colorCells(demPct, repPct, 10);
                };

                function results1988() {
                    var demPct = (data.demVotes1988 / data.totalVotes1988) * 100;
                    var repPct = (data.repVotes1988 / data.totalVotes1988) * 100;
                    colorCells(demPct, repPct, 11);
                };

                function results1984() {
                    var demPct = (data.demVotes1984 / data.totalVotes1984) * 100;
                    var repPct = (data.repVotes1984 / data.totalVotes1984) * 100
                    colorCells(demPct, repPct, 12);
                };

                function results1980() {
                    var demPct = (data.demVotes1980 / data.totalVotes1980) * 100;
                    var repPct = (data.repVotes1980 / data.totalVotes1980) * 100;
                    colorCells(demPct, repPct, 13);
                };

                results2016();
                results2012();
                results2008();
                results2004();
                results2000();
                results1996();
                results1992();
                results1988();
                results1984();
                results1980();
            },
            columnDefs: [{
                // type: 'natural',
                // targets: [0, 1, 2, 3]
                // targets: [12, 13],
                // visible: false
                //className: 'control',
                //orderable: false,
                // targets: '1',
                // createdCell: function(td, cellData, rowData, row, col) {
                //     console.log(cellData);
                //     if (cellData > 100000) {
                //         $(td).css('background-color', 'red')
                //     } else {
                //         $(td).css('background-color', 'blue')
                //     }
                // }
                // targets: "2",
                // createdCell: function(td, cellData, rowData, row, col) {
                //     if (cellData < 25) {
                //         $(td).css('background-color', 'green')
                //     }
                // }
            }],
            order: [
                [3, 'asc']
            ],
            // target: 1,
            // data: 'govPct2018',
            // render: function(data, type, row, meta) {
            //     console.log(data);
            //     //return type === 'display' && data.length > 40 ?
            //     // '<span title="' + data + '">' + data.substr(0, 38) + '...</span>' :
            //     // data;
            // },
            columns: [
                //{ data: 'button' },
                // {
                //     data: 'county',
                //     //render: function(data, type, row) {
                //         //console.log(data);
                //         //if (data == 'DENVER') {
                //             //$(row).find('td:eq(0)').css('color', 'red');
                //         }
                //         //if (data == 'ADAMS') {
                //             //$(row).find('td:eq(0)').css('color', 'blue');
                //         //}
                //         // if (data == 'ADAMS') {
                //         //     return '<div class="dem">' + data + '</div>'
                //         // } else //if (data == 'REP') {
                //         //     return '<div class="rep">' + data + '</div>'
                //         //}
                //     //}
                // },
                //{ data: 'county' },
                // {
                //     "data": null,
                //     "render": function(data, type, row) {
                //         if (row.county == 'DENVER') {
                //             return '<td style="background-color:blue">' + data + '</td>'
                //         }
                //     }
                // },
                {
                    data: 'classification',
                    render: function(data, type, row, meta) {
                        if (type === 'display' || type === 'filter') {
                            if (row.classification === 'Urban') {
                                return 'Urb'
                            } else {
                                return 'Rur'
                            }
                        } else {
                            return row.classification
                        }
                    }
                },
                {
                    data: 'population2018DOLA',
                    render: function(data, type, row, meta) {
                        if (type === 'display' || type === 'filter') {
                            return row.population2018DOLA.toLocaleString() + '<span class="super-script"> (' + row.populationRank + ')</span>'
                        } else {
                            return row.populationRank
                        }
                    },
                },
                {
                    data: 'income2019BLS',
                    render: function(data, type, row, meta) {
                        if (type === 'display' || type === 'filter') {
                            return '$' + row.income2019BLS.toLocaleString() + '<span class="super-script"> (' + row.incomeRank + ')</span>'
                        } else {
                            return row.incomeRank
                        }
                    }
                },
                {
                    data: 'county'
                },
                {
                    data: 'demVotes2016',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes2016 / row.totalVotes2016) * 100);
                        var repPct = ((row.repVotes2016 / row.totalVotes2016) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes2016.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes2016.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes2012',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes2012 / row.totalVotes2012) * 100);
                        var repPct = ((row.repVotes2012 / row.totalVotes2012) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes2012.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes2012.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes2008',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes2008 / row.totalVotes2008) * 100);
                        var repPct = ((row.repVotes2008 / row.totalVotes2008) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes2008.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes2008.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes2004',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes2004 / row.totalVotes2004) * 100);
                        var repPct = ((row.repVotes2004 / row.totalVotes2004) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes2004.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes2004.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes2000',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes2000 / row.totalVotes2000) * 100);
                        var repPct = ((row.repVotes2000 / row.totalVotes2000) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (isNaN(pctDiff)) {
                                return '<span class="cell-contents">n/a</span>'
                            } else if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes2000.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes2000.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes1996',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes1996 / row.totalVotes1996) * 100);
                        var repPct = ((row.repVotes1996 / row.totalVotes1996) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (isNaN(pctDiff)) {
                                return '<span class="cell-contents">n/a</span>'
                            } else if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes1996.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes1996.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes1992',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes1992 / row.totalVotes1992) * 100);
                        var repPct = ((row.repVotes1992 / row.totalVotes1992) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (isNaN(pctDiff)) {
                                return '<span class="cell-contents">n/a</span>'
                            } else if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes1992.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes1992.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes1988',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes1988 / row.totalVotes1988) * 100);
                        var repPct = ((row.repVotes1988 / row.totalVotes1988) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (isNaN(pctDiff)) {
                                return '<span class="cell-contents">n/a</span>'
                            } else if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes1988.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes1988.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes1984',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes1984 / row.totalVotes1984) * 100);
                        var repPct = ((row.repVotes1984 / row.totalVotes1984) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (isNaN(pctDiff)) {
                                return '<span class="cell-contents">n/a</span>'
                            } else if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes1984.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes1984.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                },
                {
                    data: 'demVotes1980',
                    //render: $.fn.dataTable.render.number(',', '.', 0, '', '%'),
                    render: function(data, type, row, meta) {
                        //console.log(row);
                        var demPct = ((row.demVotes1980 / row.totalVotes1980) * 100);
                        var repPct = ((row.repVotes1980 / row.totalVotes1980) * 100);
                        var pctDiff = (demPct - repPct);
                        if (type === 'display' || type === 'filter') {
                            if (isNaN(pctDiff)) {
                                return '<span class="cell-contents">n/a</span>'
                            } else if (demPct > repPct) {
                                return '<div class="cell-contents">' + 'D+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(demPct * 10) / 10 + '% &bull; ' + row.demVotes1980.toLocaleString() + '</div></div>'
                            } else {
                                return '<div class="cell-contents">' + 'R+' + Math.round(Math.abs(pctDiff)) + '<div class="vote-total-container">' + Math.round(repPct * 10) / 10 + '% &bull; ' + row.repVotes1980.toLocaleString() + '</div></div>'
                            }
                        } else {
                            return pctDiff
                        }
                    }
                }
            ],

            // initComplete: function() {
            //     yadcf.init(prezVoteTable, [{
            //             column_number: 0,
            //             filter_container_id: 'urban-filter',
            //             filter_default_label: 'Filter by urban/rural'
            //         }, {
            //             column_number: 2,
            //             filter_container_id: 'donor-name-filter',
            //             filter_default_label: 'Filter by donor'
            //         }, {
            //             column_number: 2,
            //             filter_container_id: 'amount-filter',
            //             // column_data_type: 'rendered_html',
            //             filter_type: 'range_number'
            //         },
            //         {
            //             column_number: 5,
            //             filter_container_id: 'city-filter',
            //             filter_default_label: 'Filter by city'
            //         },
            //         {
            //             column_number: 8,
            //             filter_container_id: 'year-filter',
            //             filter_default_label: 'Filter by year'
            //         }
            //     ], {
            //         cumulative_filtering: true,
            //         filter_reset_button_text: 'Reset filter'
            //     });

            // get it started
            // disableDependentFilter(1, true);

            // $('.yadcf-filter-reset-button').on('click', function() {
            //     level = parseInt(this.id.split('-')[4]);
            //     disableDependentFilter(level, true);
            // });

            // $('.yadcf-filter').on('change', function() {
            //     level = parseInt(this.id.slice(-1));
            //     inuse = $(this).hasClass('inuse');

            //     disableDependentFilter(level + 1, inuse);
            // });
            // }
        });
        $("#filter").click(function() {
            $.fn.dataTable.ext.search.push(
                function(settings, data, dataIndex) {
                    //return parseFloat(data[0]) < 50 ?
                    data[1] < 200000 ?
                        true :
                        false
                }
            );
            prezVoteTable.draw();
            $.fn.dataTable.ext.search.pop();
        });
    });
    </script>
</body>

</html>